task sourcesJar(type: Jar) {
    archiveClassifier.set("sources")
    from android.sourceSets.main.java.srcDirs
}

artifacts {
    archives sourcesJar
}

artifactoryPublish.dependsOn("build")

afterEvaluate {
    publishing {
        publications {
            mavenPublication(MavenPublication) {
//                groupId = group
                artifact(sourcesJar)
                artifact("$buildDir/outputs/aar/$project.name-release.aar")
            }
        }
    }

//    artifactoryPublish {
//        publications(publishing.publications.mavenPublication)
//    }
}

//artifactory {
//    contextUrl = 'http://oss.jfrog.org'
//    publish {
//        repository {
//            repoKey = 'oss-snapshot-local'
//            username = project.findProperty('bintrayUser') ?: System.getenv('BINTRAY_USER')
//            password = project.findProperty('bintrayApiKey') ?: System.getenv('BINTRAY_API_KEY')
//        }
//        defaults {
//            publications('mavenPublication')
//            publishArtifacts = true
//            publishPom = true
//        }
//    }
//    resolve {
//        repoKey = 'jcenter'
//    }
//}
