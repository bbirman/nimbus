apply plugin: 'com.jfrog.bintray'

// Android projects need enhanced maven plugin
if (project.getPlugins().hasPlugin('com.android.application') ||
        project.getPlugins().hasPlugin('com.android.library')) {
    apply plugin: 'com.github.dcendents.android-maven'
} else {
    apply plugin: 'maven'

    task sourcesJar(type: Jar, dependsOn:classes) {
        archiveClassifier.set("sources")
        from sourceSets.main.allSource
    }

    task javadocJar(type: Jar, dependsOn:javadoc) {
        archiveClassifier.set("javadoc")
        from javadoc.destinationDir
    }

    artifacts {
        archives javadocJar
        archives sourcesJar
    }
}

//group = Publishing.group
//
//install {
//    repositories.mavenInstaller {
//        pom {
//            project {
//                name Publishing.packageName
//                url Publishing.siteUrl
//
//                // If we decide to use anything other than project name as artifactId, we'd change it here
//                // artifactId POM_NAME.toLowerCase().replaceAll(" ", "-")
//
//                packaging POM_PACKAGING
//                version ProjectVersions.packageVersion
//
//                licenses {
//                    license {
//                        name POM_LICENSE_NAME
//                        url POM_LICENSE_URL
//                    }
//                }
//
//                developers {
//                    developer {
//                        name POM_DEVELOPER
//                    }
//                }
//
//                scm {
//                    url POM_SCM_URL
//                    connection POM_SCM_CONNECTION
//                    developerConnection POM_SCM_DEV_CONNECTION
//                }
//            }
//        }
//    }
//}
//
//bintray {
//    project.version = ProjectVersions.packageVersion
//    user = project.findProperty('bintrayUser') ?: System.getenv('BINTRAY_USER')
//    key = project.findProperty('bintrayApiKey') ?: System.getenv('BINTRAY_API_KEY')
//    configurations = ['archives']
//    publish = true
//    dryRun = false
//    pkg {
//        name = Publishing.packageName
//        repo = Publishing.bintrayRepo
//        userOrg = Publishing.userOrg
//        licenses = [POM_LICENSE_NAME]
//        vcsUrl = POM_SCM_URL
//        labels = ['android', 'salesforce', 'hybrid']
//        version {
//            name = ProjectVersions.packageVersion
//            released = new Date()
//        }
//    }
//}
